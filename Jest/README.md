# Jest 的基本使用

会写单测对于前端来说真的也是一个分水岭，个人感觉如果会写单测和习惯写单测，也是前端开发的一个优势！

最好是今后能够养成一个习惯，拿到一个需求，在理解了需求之后先不写业务代码，先把测试用例给写一遍（当然这个是如果开发时间给的足够多的情况）

## Jest 的基本使用
涉及到的几个基本的API:
- test
- expect
- toBe

见函数名就大致知道其的意思，`test`就是开始测试的函数，`expect`表示我们期待开始，`toBe`表示最终的结果，一个例子就能简单的入门了：

```js
const sum = require('./sum');

test('adds 1 + 2 to equal 3', () => {
  expect(sum(1, 2)).toBe(3);
});
```

我们将1和2传入sum函数中，期待得到的结果是3，入门还是挺简单的。

## 生成测试覆盖率文件

执行：`npx jest --coverage`

### npm 与 npx的区别

当npx执行一个包的时候，会自动检测本地是否存在，如果没有则会从npm上下载，临时安装一下这个包，并且执行它，已安装的包不会出现在你的全局安装中，所以不用担心长期使用所带来的全局污染。

比如经常使用 `npx create-react-app myApp`，实际上的作用是安装一个临时的create-react-app并调用他，而不用担心全局污染。

还有一个知识点是这样我们安装下来的版本一定是一个相对比较新的版本，不会出现有旧的版本的存在。

总结下来就是：如果本地有可以执行的包，就会直接执行，如果没有则是会去安装最新版本（临时版本，并不会真正的存下来，不会造成全局污染），然后再执行它